# Judge Visual Evidence Pack

## Purpose

Create one reproducible visual bundle for judges:

1. Screenshot checklist status (present/missing).
2. Critical badge-evidence lane status (`pass/fail/unavailable`).
3. Single manifest for quick go/no-go before submission.

## Commands

Auto-capture screenshot set from demo frontend (Playwright):

```bash
npm run demo:e2e:visual-capture
```

Auto mode (capture + strict pack in one command):

```bash
npm run demo:e2e:visual:auto
```

Generate judge-facing screenshot gallery (markdown with embedded captures):

```bash
npm run demo:e2e:visual:gallery
```

Presentation shortcut (capture + strict pack + gallery):

```bash
npm run demo:e2e:visual:present
```

Offline deterministic mode (no running frontend required):

```bash
npm run demo:e2e:visual-capture -- --mockAll
```

Generate pack (non-strict):

```bash
npm run demo:e2e:visual-pack
```

Generate pack in strict mode (fails when required captures or critical badge lanes are missing):

```bash
npm run demo:e2e:visual-pack:strict
```

## Inputs

Defaults used by `scripts/judge-visual-evidence-pack.mjs`:

1. Badge details: `artifacts/demo-e2e/badge-details.json`
2. Demo summary: `artifacts/demo-e2e/summary.json`
3. Screenshot directory: `artifacts/judge-visual-evidence/screenshots`

Defaults used by `scripts/judge-visual-capture.mjs`:

1. Frontend URL: `http://localhost:3000`
2. Screenshot directory: `artifacts/judge-visual-evidence/screenshots`
3. Observability captures: mock dashboard/alert cards are generated by default to provide deterministic image artifacts (`--noMockObservability` disables this)
4. Full mock mode (`--mockAll`) bypasses frontend navigation and renders all required screenshot cards from a deterministic built-in layout

## Outputs

1. `artifacts/judge-visual-evidence/manifest.json`
2. `artifacts/judge-visual-evidence/manifest.md`
3. `artifacts/judge-visual-evidence/screenshots/_capture-manifest.json`
4. `artifacts/judge-visual-evidence/gallery.md`

## Required Screenshot Filenames

Put files into `artifacts/judge-visual-evidence/screenshots`:

1. `live-console-main.png`
2. `operator-console-evidence.png`
3. `storyteller-timeline.png`
4. `approval-flow-pending.png`
5. `approval-flow-approved.png`
6. `observability-dashboard.png`
7. `observability-alert-gateway-latency.png`
8. `observability-alert-service-error-rate.png`
9. `observability-alert-orchestrator-persistence.png`

## Critical Badge Lanes

Pack marks these as critical:

1. `operatorTurnTruncation`
2. `operatorTurnDelete`
3. `operatorDamageControl`
4. `governancePolicy`
5. `skillsRegistry`
6. `deviceNodes`
7. `agentUsage`
8. `deviceNodeUpdates` (derived from `deviceNodes` updates fields)
