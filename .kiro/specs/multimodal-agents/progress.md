# Progress Snapshot

## As Of

- Date: 2026-02-25
- Branch: `main`
- Status: `release-ready strict baseline (green gates)`

## Verified Quality Gates

1. `npm run verify:release` passes end-to-end.
2. Demo e2e policy gate is green with `193` checks.
3. Perf-load policy gate is green.
4. Unit tests are green (`329` tests passed).

## Implemented Hardening Highlights

1. Live bridge failover + health watchdog + interruption handling.
2. Approval lifecycle with SLA behavior (`pending/approved/rejected/timeout`) and audit coverage.
3. UI loop protection (`failed_loop` diagnostics for planned/runtime loops).
4. Session idempotency/versioning for mutable API paths.
5. Echo mock + local-first profile flow for offline iteration.
6. Telemetry split documentation + monitoring templates and policy checks.
7. Assistive router with confidence-gated deterministic fallback.
8. WebSocket MVP protocol discipline with explicit docs (`docs/ws-protocol.md`).

## Latest Reliability Additions

1. Transient retry for `ui.approval.approve_resume` request in demo e2e script.
2. Policy checks for:
   - `kpi.uiApprovalResumeRequestAttempts` (`1..2`)
   - `kpi.uiApprovalResumeRequestRetried` (`boolean`)
   - `scenario.ui.approval.approve_resume.elapsedMs <= 60000`
3. Release summary now prints approval-resume retry KPI values.
4. UI Navigator remote executor now supports strict fallback policy via `UI_NAVIGATOR_REMOTE_HTTP_FALLBACK_MODE=simulated|failed` (with dedicated unit coverage).
5. Added dedicated unit coverage for `scripts/demo-e2e-policy-check.mjs` (pass path + threshold violations for attempts/elapsed guards).
6. Demo KPI policy gate now enforces `options.uiNavigatorRemoteHttpFallbackMode=failed` for judged demo determinism.
7. Demo KPI policy gate now enforces interrupt-latency discipline (`maxGatewayInterruptLatencyMs=300` when measured) with explicit unavailable fallback allowance.
8. Demo frontend operator console now shows actionable live-bridge recovery hints (`drain/warmup`) based on health state and probe/error counters.
9. Demo e2e managed-service startup now uses retry+backoff with stderr-tail diagnostics, reducing transient startup flakes (`process exited before health check passed`).
10. Demo summary artifacts now include startup-retry runtime options (`serviceStartMaxAttempts`, `serviceStartRetryBackoffMs`) for deterministic run forensics.
11. Demo KPI policy gate now enforces startup-retry option floors (`serviceStartMaxAttempts >= 2`, `serviceStartRetryBackoffMs >= 300ms`) with dedicated unit coverage.
12. Demo e2e now exposes a dedicated operator lifecycle scenario (`operator.device_nodes.lifecycle`) and policy enforces it as a required judge-facing proof.
13. Demo e2e now exposes `api.sessions.versioning` proof and policy validates optimistic-versioning/idempotency outcomes (`idempotent_replay`, `API_SESSION_VERSION_CONFLICT`, `API_SESSION_IDEMPOTENCY_CONFLICT`).
14. Demo e2e now exposes `gateway.websocket.binding_mismatch` proof and policy validates WebSocket binding guards (`GATEWAY_SESSION_MISMATCH`, `GATEWAY_USER_MISMATCH`).
15. Demo e2e now exposes `gateway.websocket.draining_rejection` proof and policy validates drain-mode rejection + post-warmup recovery (`GATEWAY_DRAINING`, `traceId`, `recoveryStatus=completed`).
16. Release readiness gate now fails fast on critical summary evidence (`gateway.websocket.binding_mismatch`, `gateway.websocket.draining_rejection`, `api.sessions.versioning`) and prints judge-critical KPI snapshots in final output.
17. Demo frontend live transcript now uses per-turn streaming aggregation (single assistant entry + idle/turn completion finalization), reducing token-by-token noise in judged live sessions.
18. Demo/perf runtime profiles now pin `UI_EXECUTOR_FORCE_SIMULATION=true`, preserving `remote_http` adapter contract while removing Playwright/network variance; `ui.approval.approve_resume` latency stabilized from multi-second tails to sub-second runs in e2e.
19. Demo KPI policy gate now enforces `ui-executor` runtime profile invariants (`kpi.uiExecutorMode=remote_http`, `kpi.uiExecutorForceSimulation=true`, `kpi.uiExecutorRuntimeValidated=true`) to prevent accidental regression to flaky browser/network execution paths.
20. `ui-executor` now exposes full lifecycle/runtime endpoints (`/status`, `/version`, `/metrics`, `/drain`, `/warmup`) and is included in runtime lifecycle + metrics evidence (`analyticsServicesValidated>=4`, `metricsServicesValidated>=4`, `kpi.uiExecutorLifecycleValidated=true`).
21. Operator e2e flow now validates admin failover for `ui-executor` (`drain` -> `warmup`), and policy gate enforces `kpi.operatorFailoverUiExecutorDrainState=draining`, `kpi.operatorFailoverUiExecutorWarmupState=ready`, `kpi.operatorFailoverUiExecutorValidated=true`.
22. Demo frontend Operator Console now exposes a dedicated `UI Executor Failover` widget (state/healthy/profile/version + last failover action/outcome), and judge runbook includes explicit on-stage `ui-executor` drain/warmup proof sequence.
23. Operator Console now requires explicit confirmation dialogs for mutating actions (`cancel_task`, `retry_task`, `failover drain/warmup`, device-node upsert/conflict probe/heartbeat), reducing accidental control-plane writes during live demo.
24. Operator Console now exposes a dedicated `Device Nodes Health` widget (`total/online/degraded/offline/stale/missing_heartbeat/max_age`) so device-node lifecycle proof is visible at a glance during judge walkthrough.
25. Operator Console now exposes a dedicated `Trace Coverage` widget (`runs/events/ui_runs/approval_linked/steps/screenshots + top route/status`) with coverage-state hints for faster operator diagnostics during demo.
26. Operator summary now includes approval status rollups (`pending/approved/rejected/timeout`) and latest approval snapshot, and Operator Console shows a dedicated `Approvals Queue` widget with SLA sweep hints (`soft/hard`).
27. Operator summary now exposes service lifecycle timestamps (`lastWarmupAt`, `lastDrainAt`) and flags (`ready`, `draining`), and Operator Console shows a dedicated `Service Lifecycle` widget for quick drain/warmup readiness checks.
28. Operator summary now exposes task-queue pressure rollups (`queued/running/pending_approval/stale/maxAge/oldestTask + pressureLevel`), and Operator Console shows a dedicated `Task Queue Pressure` widget with recovery hints for queue saturation and stale task buildup.
29. Demo e2e/policy evidence now enforces operator task-queue KPIs (`operatorTaskQueueSummaryValidated`, `operatorTaskQueuePressureLevel`, `operatorTaskQueueTotal`, `operatorTaskQueueStaleCount`, `operatorTaskQueuePendingApproval`) so queue-pressure regressions are blocked by CI gates.
30. Release-readiness gate now treats operator task-queue KPIs as critical checks and prints `operator.task_queue` summary line (`validated/level/total/pending/stale`) in final output for faster go/no-go diagnostics.
31. Demo e2e startup now runs explicit managed-service port preflight (`8080/8081/8082/8090` + optional `3000`) and fails early with `pid/process/commandLine` diagnostics on conflicts, reducing flaky `EADDRINUSE` startup failures.
32. Release-readiness now supports `-SkipPerfRun` so CI/unit flows can validate existing perf artifacts without re-running load; perf artifacts are still mandatory when `-SkipPerfLoad` is not set.
33. Release-readiness now performs anti-drift perf validation beyond `perfPolicy.ok`: hard thresholds, required perf check set, and mandatory workload presence (`live/ui/gateway_replay`) in perf summary.
34. Added dedicated unit coverage for `scripts/perf-load-policy-check.mjs` and expanded release-readiness unit coverage for perf threshold drift and missing required perf checks.
35. Release-readiness now treats operator evidence as critical: `operatorAuditTrailValidated`, `operatorTraceCoverageValidated`, `operatorLiveBridgeHealthBlockValidated`, `operatorLiveBridgeProbeTelemetryValidated`, plus allowlisted `operatorLiveBridgeHealthState`.
36. Release-readiness now treats Storyteller queue/cache evidence as critical (`storytellerMediaMode=simulated`, queue workers, cache hits, async/queue/cache validation KPIs).
37. Judge runbook now documents artifact-only release revalidation (`-SkipPerfRun`) and explicitly lists release-critical operator/story/perf evidence keys.
38. Added anti-drift unit coverage (`tests/unit/runbook-release-alignment.test.ts`) to keep `docs/challenge-demo-runbook.md` aligned with `scripts/release-readiness.ps1`.
39. Added anti-drift unit coverage (`tests/unit/ws-protocol-error-taxonomy-alignment.test.ts`) to keep `docs/ws-protocol.md` aligned with policy-level gateway error codes and retryability taxonomy.
40. `release-readiness` now retries the `demo:e2e` step with bounded attempts/backoff (`DemoRunMaxAttempts`, `DemoRunRetryBackoffMs`) to reduce transient CI/local flakes without weakening gates.
41. Added anti-drift unit coverage (`tests/unit/release-demo-retry-defaults.test.ts`) to lock demo retry defaults and ensure demo e2e path uses retry runner.
42. `demo-e2e` now supports bounded per-scenario transient retries (`ScenarioRetryMaxAttempts`, `ScenarioRetryBackoffMs`) for flaky paths (`ui.visual_testing`, `operator.console.actions`) with summary KPIs for attempt count and retry usage; coverage added in `tests/unit/demo-scenario-retry-alignment.test.ts`.
43. `release-readiness` now exposes scenario-retry controls (`DemoScenarioRetryMaxAttempts`, `DemoScenarioRetryBackoffMs`) and forwards them into demo runs; policy/release gates enforce `options.scenarioRetryMaxAttempts >= 2` and `options.scenarioRetryBackoffMs >= 500`, with runbook and anti-drift tests updated.
44. Policy/release gates now enforce anti-noise scenario-retry guards (`kpi.scenarioRetriesUsedCount <= 2`, per-scenario attempts bounded by `options.scenarioRetryMaxAttempts`, `kpi.scenarioRetryableFailuresTotal >= 0`), including runbook updates and dedicated unit coverage.
45. `release-readiness` now supports strict final mode (`-StrictFinalRun`) that enforces zero scenario retries (`kpi.scenarioRetriesUsedCount = 0`) and forwards strict policy override (`--maxScenarioRetriesUsedCount 0`) to demo KPI gate for pre-submission cleanliness.
46. Added dedicated CI workflow `.github/workflows/release-strict-final.yml` to run `verify:release:strict` (`release-readiness.ps1 -StrictFinalRun`) on `main/master` pushes and manual dispatch, with release-critical artifact publishing plus anti-drift coverage in `tests/unit/release-strict-workflow-alignment.test.ts`.
47. `repo:publish` now runs pre-publish release verification by default (`verify:release`), supports strict mode (`-StrictReleaseVerification` -> `verify:release:strict`) and explicit bypass (`-SkipReleaseVerification`), with anti-drift coverage in `tests/unit/repo-publish-release-gate-alignment.test.ts`.
48. Fixed locale-dependent numeric parsing in `scripts/release-readiness.ps1` (`To-NumberOrNaN` now parses with invariant culture fallback), eliminating false failures on decimal perf values (e.g., `ui_navigation_execution p95=38.5`), with dedicated regression test `release-readiness accepts decimal perf latency values from artifacts`.
49. Added release-check npm aliases for deterministic operator usage: `verify:release:strict:skip-perf-run` and `verify:release:artifact-only`; synchronized docs in `README.md` and `docs/challenge-demo-runbook.md`; added anti-drift coverage in `tests/unit/release-script-alias-alignment.test.ts`.
50. Updated `README.md` CI visibility with explicit strict-release workflow coverage (`release-strict-final.yml` badge + workflow section) so release-grade gate status is visible alongside PR/demo badges.
51. Added manual artifact-only CI revalidation workflow `.github/workflows/release-artifact-revalidation.yml`: auto-resolves latest successful `demo-e2e`/`release-strict-final` run (or accepts `source_run_id`), auto-detects artifact bundle, restores `artifacts/` tree, runs `verify:release:artifact-only`, and uploads consolidated evidence with anti-drift coverage in `tests/unit/release-artifact-workflow-alignment.test.ts`.
52. Added local artifact pull + revalidation helper `scripts/release-artifact-revalidate.ps1` and npm alias `verify:release:artifact:revalidate`: auto-resolves latest successful `demo-e2e`/`release-strict-final` run (or uses `-SourceRunId`), downloads artifact bundle via GitHub Actions API, restores local `artifacts/`, and runs `verify:release:artifact-only`; docs updated in `README.md` and `docs/challenge-demo-runbook.md`, with anti-drift coverage in `tests/unit/release-artifact-local-revalidation-alignment.test.ts`.
53. Hardened local artifact revalidation helper for mixed artifact bundles: added strict mode (`-StrictFinalRun`), optional perf gate override (`-SkipPerfLoadGate`), and automatic perf gate skip when bundle lacks `artifacts/perf-load/*` (for `pr-quality-artifacts` compatibility); updated docs and anti-drift assertions in `tests/unit/release-artifact-local-revalidation-alignment.test.ts`.
54. Hardened CI artifact revalidation workflow `.github/workflows/release-artifact-revalidation.yml` for mixed bundles: added artifact-set inspection (`has_perf_artifacts`) and conditional gate execution (full `verify:release:artifact-only` with perf artifacts, fallback `release-readiness.ps1 -SkipPerfLoad` without perf artifacts), with anti-drift test updates in `tests/unit/release-artifact-workflow-alignment.test.ts`.
55. Added explicit operator perf-mode control to CI artifact revalidation workflow via `workflow_dispatch` input `perf_gate_mode=auto|with_perf|without_perf`, with strict validation for `with_perf` when perf artifacts are missing, summary telemetry of requested/effective mode, and anti-drift coverage updates in `tests/unit/release-artifact-workflow-alignment.test.ts`.
56. Added explicit strict-mode control to CI artifact revalidation workflow via `workflow_dispatch` input `strict_final_run=true|false`: workflow now executes one of four deterministic gate branches (`with/without perf` x `standard/strict`), propagates `-StrictFinalRun` where requested, and emits strict-mode state in job summary with anti-drift coverage updates in `tests/unit/release-artifact-workflow-alignment.test.ts`.
57. Aligned local artifact helper with CI perf-mode semantics by adding `-PerfGateMode auto|with_perf|without_perf` to `scripts/release-artifact-revalidate.ps1`, keeping `-SkipPerfLoadGate` as deprecated compatibility alias, enforcing `with_perf` artifact presence validation, and emitting requested/effective perf mode in final summary; docs/tests updated in `README.md`, `docs/challenge-demo-runbook.md`, and `tests/unit/release-artifact-local-revalidation-alignment.test.ts`.
58. Added GitHub CLI token fallback to local artifact revalidation helper (`scripts/release-artifact-revalidate.ps1`): when `GITHUB_TOKEN`/`GH_TOKEN` is absent, script now attempts `gh auth token` before failing; docs and anti-drift unit coverage were updated accordingly.
59. Extended anti-drift coverage for artifact revalidation docs (`tests/unit/release-artifact-local-revalidation-alignment.test.ts`): README and runbook are now checked for `verify:release:artifact:revalidate`, `PerfGateMode auto|with_perf|without_perf`, `SkipPerfLoadGate`, and `gh auth token` guidance.
60. Hardened local artifact revalidation network resilience (`scripts/release-artifact-revalidate.ps1`) with bounded GitHub API/download retries (`GithubApiMaxAttempts`, `GithubApiRetryBackoffMs`) across run discovery/artifact metadata/download operations; docs and anti-drift tests were updated to keep helper flags aligned.
61. Added workflow-level retry controls to `.github/workflows/release-artifact-revalidation.yml`: new `workflow_dispatch` inputs (`github_api_max_attempts`, `github_api_retry_backoff_ms`), retry-aware source resolution in `actions/github-script`, retry-aware artifact download in PowerShell, and summary telemetry for effective retry settings; aligned docs/tests in `README.md`, `docs/challenge-demo-runbook.md`, and `tests/unit/release-artifact-workflow-alignment.test.ts`.
62. Added dedicated anti-drift coverage (`tests/unit/release-artifact-retry-defaults-alignment.test.ts`) to enforce parity of artifact-revalidation retry defaults (`GithubApiMaxAttempts=3`, `GithubApiRetryBackoffMs=1200`) between local helper and CI workflow inputs.
63. Added retry-policy anti-drift coverage (`tests/unit/release-artifact-retry-policy-alignment.test.ts`) to lock retryable HTTP status set consistency (`408/429/500/502/503/504`) across local helper and CI artifact-revalidation workflow paths.
64. Added source-run guardrails to artifact revalidation (local helper + CI workflow): enforced successful source run, default branch allowlist (`main/master`), max source-run age threshold (`168h` by default), summary telemetry of source run metadata (`workflow/branch/headSha/updatedAt/ageHours`), and anti-drift coverage in `tests/unit/release-artifact-source-run-guard-defaults-alignment.test.ts`.
65. Added artifact provenance manifest output for revalidation flows: local helper and CI workflow now write `artifacts/release-artifact-revalidation/source-run.json` (source run metadata, guardrails, perf gate mode, retry policy), include manifest path in summaries, and upload it in `release-artifact-revalidation-artifacts`.
66. Added manifest schema anti-drift coverage (`tests/unit/release-artifact-source-run-manifest-alignment.test.ts`) to keep `source-run.json` structure aligned across local helper and CI workflow (`schemaVersion/generatedAt/repository/sourceRun/artifact/sourceSelection/gate/retry` + retry policy fields).
67. Hardened `release-readiness` artifact-only gate with mandatory `source-run.json` validation (`schemaVersion=1.0`, `sourceRun.runId`, `sourceRun.branch`, `retry.githubApiMaxAttempts>=1`) and added dedicated unit coverage for pass/fail paths (missing file, schema drift, invalid retry value, malformed JSON).
68. Clarified artifact-only operator docs (`README.md`, `docs/challenge-demo-runbook.md`): `verify:release:artifact-only` now explicitly documents required provenance manifest path (`artifacts/release-artifact-revalidation/source-run.json`) and points to helper/workflow auto-generation paths.
69. Strengthened provenance policy in `release-readiness` artifact-only mode: enforce `sourceRun.conclusion=success`, branch allowlist checks when `allowAnySourceBranch=false`, and source-run age guard (`sourceRun.ageHours <= maxSourceRunAgeHours`), with dedicated unit tests for each pass/fail branch.
70. Fixed CI artifact revalidation manifest parity by exporting `source_run_conclusion` and writing `sourceRun.conclusion` in `.github/workflows/release-artifact-revalidation.yml`; added anti-drift coverage in `tests/unit/release-artifact-provenance-guardrails-alignment.test.ts` to lock readiness guardrails (`conclusion`, branch allowlist, age guard) across `release-readiness`, local helper, and workflow manifest producers.
71. Added executable artifact-only e2e smoke path: new `scripts/release-artifact-only-smoke.ps1` generates local perf/provenance artifacts (`artifacts/perf-load/*` + `artifacts/release-artifact-revalidation/source-run.json`) and runs real `release-readiness` artifact-only gate; exposed via npm alias `verify:release:artifact-only:smoke`, documented in README/runbook, and covered by `tests/unit/release-artifact-only-smoke.test.ts`.
72. Added fast CI sanity workflow `.github/workflows/release-artifact-only-smoke.yml` (manual dispatch, `strict_final_run=true|false`) to run local artifact-only smoke without GitHub artifact download; locked wiring via `tests/unit/release-artifact-smoke-workflow-alignment.test.ts` and updated README/runbook references.
73. Extended `release-artifact-only-smoke` workflow with persistent diagnostics: run step now writes `artifacts/release-artifact-only-smoke/summary.json` and `smoke.log`, summary step prints smoke status + log tail, and workflow uploads `release-artifact-only-smoke-artifacts`; anti-drift test and docs updated accordingly.
74. Added explicit local smoke aliases for release operators: `verify:release:artifact-only:smoke:strict` (strict final gate) and `verify:release:artifact-only:smoke:keep-temp` (debug artifact retention); synchronized `tests/unit/release-script-alias-alignment.test.ts` and runbook/README usage docs.
75. Hardened live transcript streaming in `LiveApiBridge`: cumulative upstream transcript frames are now normalized to text deltas per turn to prevent duplicate assistant output in realtime UI (`Hello`, ` there`, `!` style progression), with integration coverage in `tests/unit/live-bridge.test.ts`.
76. Improved demo-frontend transcript smoothing: extracted streaming helpers (`apps/demo-frontend/public/streaming-text.js`) for chunk normalization and punctuation-aware finalize delay, wired them into `app.js`, and added unit coverage in `tests/unit/frontend-streaming-text.test.ts` to lock text readability behavior during live output streaming.
77. Added explicit assistant activity indicator in demo frontend (`assistantStreamStatus`): UI now reflects `waiting_connection/disconnected/streaming/speaking/idle` based on websocket + stream/audio activity; logic extracted to `apps/demo-frontend/public/assistant-activity.js` with unit coverage in `tests/unit/frontend-assistant-activity.test.ts`.
78. Synced judged-demo runbook with assistant activity UX: `docs/challenge-demo-runbook.md` now requires explicit `Assistant` status lifecycle checks (`waiting_connection -> idle -> streaming/speaking -> idle`), with anti-drift coverage in `tests/unit/runbook-assistant-activity-alignment.test.ts` to keep docs and frontend wiring aligned.
79. Added assistant-activity KPI into automated demo policy flow: `scripts/demo-e2e.ps1` now emits `assistantActivityLifecycleValidated` (derived from websocket connect/response/interrupt lifecycle contract), `scripts/demo-e2e-policy-check.mjs` enforces it, and `tests/unit/demo-e2e-policy-check.test.ts` now covers pass/fail behavior for this KPI.
80. Promoted assistant-activity KPI into final release gate: `scripts/release-readiness.ps1` now treats `assistantActivityLifecycleValidated=true` as critical and prints `assistant.activity.lifecycle.validated` in release output; alignment tests updated in `tests/unit/release-readiness.test.ts` and `tests/unit/runbook-release-alignment.test.ts`.
81. Synced specs with runtime gates for assistant lifecycle proof: `requirements.md`, `design.md`, and `tasks.md` now explicitly require `waiting_connection/idle/streaming/speaking` states and `assistantActivityLifecycleValidated=true`; anti-drift coverage added in `tests/unit/spec-assistant-lifecycle-alignment.test.ts`.
82. Hardened demo service startup retry behavior with fail-fast classification for non-retryable failures (`cannot find module`, `syntaxerror`, `eaddrinuse`, permissions): `scripts/demo-e2e.ps1` now aborts early with explicit diagnostics instead of wasting retry budget; anti-drift coverage added in `tests/unit/demo-service-start-retry-classification.test.ts`.
83. Extended judged-demo runbook with explicit non-retryable managed-service startup recovery playbook (`module/syntax/port/permission` cases + operator steps) and added anti-drift coverage in `tests/unit/runbook-startup-failure-alignment.test.ts` to keep docs aligned with fail-fast startup classifier behavior.
84. Added operator startup diagnostics end-to-end: `/v1/operator/summary` now exposes structured `startupFailures` (status/total/blocking/recent by service+type), demo frontend includes `Startup Failures` widget, `demo-e2e` emits startup KPI evidence (`operatorStartupDiagnosticsValidated`, status/total/blocking), policy gate enforces these KPIs, and anti-drift coverage added in `tests/unit/frontend-operator-startup-widget-alignment.test.ts` + `tests/unit/operator-summary-startup-failures-alignment.test.ts`.
85. Synced startup diagnostics contract into specs: updated `requirements.md` (R15 acceptance criteria), `design.md` (operator summary + demo artifact validation contract), and `tasks.md` (T-210/T-210.5 DoD) with explicit `startupFailures` and `operatorStartupDiagnosticsValidated=true`; added anti-drift guard `tests/unit/spec-operator-startup-diagnostics-alignment.test.ts`.
86. Added Live Agent context-compaction proof to judged gates: `demo-e2e` now runs `live.context_compaction` scenario and emits `liveContextCompaction*` KPIs, policy gate enforces compaction contract (`kpi.liveContextCompactionValidated=true` + summary/retained-turn constraints), `release-readiness` treats `liveContextCompactionValidated=true` as critical, runbook documents the KPI, and anti-drift coverage added in `tests/unit/spec-live-context-compaction-alignment.test.ts`.
87. Hardened telemetry split gates end-to-end (T-221): analytics exporters now require valid split+BigQuery config (`requestedEnabled/splitValid/bigQueryConfigValid`), demo e2e runtime lifecycle enforces enabled telemetry across all managed services, policy gate enforces `analyticsBigQueryConfigValidated=true`, `analyticsRequestedEnabledServices>=4`, `analyticsEnabledServices>=4`, and release-readiness now treats these KPIs as release-critical.
88. Hardened operator live-bridge evidence consistency in judged gates: `demo-e2e` now validates state/event/probe-counter invariants for `traces.liveBridgeHealth`, emits `operatorLiveBridgeHealthConsistencyValidated`, policy gate enforces this KPI, release-readiness treats it as critical, and runbook evidence list now documents it explicitly.
89. Fixed strict-mode-safe HTTP error handling in `scripts/demo-e2e.ps1`: replaced direct `Exception.Response` access with guarded property resolution, removing fatal end-of-run failures (`The property 'Response' cannot be found on this object`) during release/demo runs.
90. Aligned `ui-executor` runtime analytics contract with release/policy lifecycle expectations by adding `requestedEnabled/splitValid/bigQueryConfigValid/bigQueryDataset/bigQueryTable` to `/status.runtime.analytics`, restoring deterministic pass for `runtime.lifecycle.endpoints` and analytics service-count KPIs.
91. Added anti-regression unit guard `tests/unit/demo-e2e-strict-error-handling.test.ts` to enforce strict-mode-safe exception handling in `scripts/demo-e2e.ps1` (no direct `.Exception.Response` access; helper-based property resolution required).
92. Added anti-drift coverage `tests/unit/ui-executor-runtime-analytics-alignment.test.ts` to lock parity between `apps/ui-executor/src/index.ts` runtime analytics fields (`requestedEnabled/splitValid/bigQuery*`) and the `runtime.lifecycle.endpoints` gate contract in `scripts/demo-e2e.ps1`.
93. Hardened demo artifact encoding: `scripts/demo-e2e.ps1` now writes `summary.json` via UTF-8 no-BOM helper (`Write-Utf8NoBomFile`), improving compatibility for external JSON consumers without BOM normalization.
94. Added anti-regression coverage `tests/unit/demo-e2e-summary-encoding.test.ts` to enforce no-BOM summary write path and prevent fallback to `Set-Content -Encoding UTF8` for the demo summary artifact.
95. Extended no-BOM artifact writing to release revalidation flows: `scripts/release-artifact-only-smoke.ps1` and `scripts/release-artifact-revalidate.ps1` now persist generated JSON artifacts/manifests via UTF-8 no-BOM helper (`Write-Utf8NoBomFile`) for consistent cross-tool parsing.
96. Added cross-script anti-drift coverage `tests/unit/artifact-json-encoding-alignment.test.ts` to ensure demo/release artifact JSON outputs stay on helper-based UTF-8 no-BOM write paths and do not regress to `Set-Content -Encoding utf8`.
97. Removed remaining direct `.Exception.Response` accesses from automation scripts (`scripts/release-artifact-revalidate.ps1`, `scripts/github-pages-enable.ps1`) by switching to guarded exception-property lookup helpers, reducing strict-mode fragility and inconsistent exception-shape failures.
98. Added global guardrail `tests/unit/powershell-exception-response-safety.test.ts` to enforce that PowerShell scripts in `scripts/` do not reintroduce direct `.Exception.Response` property access.
99. Added `demo:e2e:fast:retry` alias in `package.json`: demo-only fast run now uses `release-readiness.ps1` retry harness (`DemoRunMaxAttempts`/`DemoRunRetryBackoffMs`) while skipping unit/policy/badge/perf gates for quicker local stabilization loops.
100. Synced fast-retry workflow docs and alignment tests: updated `README.md` + `docs/challenge-demo-runbook.md`, extended `tests/unit/release-script-alias-alignment.test.ts`, and added `tests/unit/demo-fast-retry-docs-alignment.test.ts` to keep alias and documentation consistent.
101. Expanded transient scenario retry coverage in `scripts/demo-e2e.ps1`: `runtime.lifecycle.endpoints` and `runtime.metrics.endpoints` now use bounded transient retries (`ScenarioRetryMaxAttempts`/`ScenarioRetryBackoffMs`) in addition to operator/visual flows, reducing false-negative demo failures from short-lived service/network blips.
102. Updated alignment guard `tests/unit/demo-scenario-retry-alignment.test.ts` to enforce retry configuration across operator/ui/runtime flaky scenarios and prevent future drift in demo retry policy wiring.
103. Added runtime scenario attempt KPIs to demo summary (`runtimeLifecycleScenarioAttempts`, `runtimeMetricsScenarioAttempts`) in `scripts/demo-e2e.ps1`, so runtime retry behavior is visible in judge-facing artifacts and release logs.
104. Extended scenario retry gates across policy/release/docs/tests: `scripts/demo-e2e-policy-check.mjs` and `scripts/release-readiness.ps1` now enforce runtime attempt bounds (`1..options.scenarioRetryMaxAttempts`), runbook evidence was updated, and unit coverage expanded in `tests/unit/demo-e2e-policy-check.test.ts`, `tests/unit/release-readiness.test.ts`, `tests/unit/demo-scenario-retry-alignment.test.ts`, and `tests/unit/runbook-release-alignment.test.ts`.
105. Added gateway scenario attempt KPIs in demo summary (`gatewayWsRoundTripScenarioAttempts`, `gatewayInterruptSignalScenarioAttempts`) to make websocket roundtrip/interrupt retry behavior explicit in judge artifacts.
106. Extended scenario retry policy/release discipline to gateway websocket scenarios: `scripts/demo-e2e-policy-check.mjs` and `scripts/release-readiness.ps1` now enforce gateway attempt bounds (`1..options.scenarioRetryMaxAttempts`), release log prints these counts, runbook evidence was updated, and anti-drift tests expanded in `tests/unit/demo-e2e-policy-check.test.ts`, `tests/unit/release-readiness.test.ts`, `tests/unit/demo-scenario-retry-alignment.test.ts`, and `tests/unit/runbook-release-alignment.test.ts`.
107. Enabled bounded transient retries for gateway websocket contract probes in `scripts/demo-e2e.ps1`: `gateway.websocket.roundtrip` and `gateway.websocket.interrupt_signal` now run with `ScenarioRetryMaxAttempts`/`ScenarioRetryBackoffMs` and `-RetryTransientFailures` to reduce one-off websocket flake impact without relaxing release gates.
108. Expanded anti-drift retry wiring guard (`tests/unit/demo-scenario-retry-alignment.test.ts`) to require scenario-retry controls on gateway websocket roundtrip/interrupt scenarios in addition to ui/operator/runtime scenarios.
109. Extended gateway websocket retry hardening in `scripts/demo-e2e.ps1`: `gateway.websocket.task_progress` and `gateway.websocket.request_replay` now also use bounded transient scenario retries (`ScenarioRetryMaxAttempts`/`ScenarioRetryBackoffMs`, `-RetryTransientFailures`) for more stable realtime contract probes.
110. Added gateway task/replay attempt evidence to demo/release policy gates: new KPIs (`gatewayTaskProgressScenarioAttempts`, `gatewayRequestReplayScenarioAttempts`) are emitted by `demo-e2e`, enforced in `scripts/demo-e2e-policy-check.mjs` and `scripts/release-readiness.ps1`, surfaced in release retry summary logs, documented in runbook, and covered by alignment/regression tests.
111. Extended gateway websocket transient retry wiring in `scripts/demo-e2e.ps1` to all remaining contract probes: `gateway.websocket.invalid_envelope`, `gateway.websocket.binding_mismatch`, and `gateway.websocket.draining_rejection` now run with bounded retries (`ScenarioRetryMaxAttempts`/`ScenarioRetryBackoffMs`, `-RetryTransientFailures`) for consistent flake handling across the full websocket suite.
112. Promoted remaining gateway websocket retry attempts into policy/release evidence gates: new KPIs (`gatewayInvalidEnvelopeScenarioAttempts`, `gatewayBindingMismatchScenarioAttempts`, `gatewayDrainingRejectionScenarioAttempts`) are emitted by `demo-e2e`, validated in `scripts/demo-e2e-policy-check.mjs` and `scripts/release-readiness.ps1`, printed in release retry summary, documented in runbook, and covered by anti-drift/regression tests.
113. Extended bounded transient retry wiring for sensitive orchestration/api scenarios in `scripts/demo-e2e.ps1`: `multi_agent.delegation`, `operator.device_nodes.lifecycle`, `api.approvals.list`, and `api.approvals.resume.invalid_intent` now use `ScenarioRetryMaxAttempts`/`ScenarioRetryBackoffMs` with `-RetryTransientFailures`.
114. Added attempt-evidence gates for orchestration/api retries across demo policy and release readiness: new KPIs (`multiAgentDelegationScenarioAttempts`, `operatorDeviceNodesLifecycleScenarioAttempts`, `approvalsListScenarioAttempts`, `approvalsInvalidIntentScenarioAttempts`) are emitted by `demo-e2e`, enforced in `scripts/demo-e2e-policy-check.mjs` and `scripts/release-readiness.ps1`, included in release retry summary logs, documented in runbook, and locked by anti-drift/regression tests.
115. Made `api.sessions.versioning` scenario retry-safe in `scripts/demo-e2e.ps1` by resolving the live session snapshot (`/v1/sessions`) at attempt start and using a per-attempt baseline version/status (`baselineVersion`, `baselineStatus`) instead of static create-time version, eliminating stale-version false failures on retried runs.
116. Added session-versioning retry evidence gating end-to-end: `sessionVersioningScenarioAttempts` is now emitted by `demo-e2e`, validated in `scripts/demo-e2e-policy-check.mjs` and `scripts/release-readiness.ps1`, included in release retry summary and runbook evidence, and covered by updated alignment/regression tests.
117. Extended bounded scenario-level retries in `scripts/demo-e2e.ps1` to core live/story/sandbox flows: `live.translation`, `live.negotiation`, `live.context_compaction`, `storyteller.pipeline`, and `ui.sandbox.policy_modes` now use `ScenarioRetryMaxAttempts`/`ScenarioRetryBackoffMs` with `-RetryTransientFailures`.
118. Added attempt evidence gates for core live/story/sandbox retries: new KPIs (`liveTranslationScenarioAttempts`, `liveNegotiationScenarioAttempts`, `liveContextCompactionScenarioAttempts`, `storytellerPipelineScenarioAttempts`, `uiSandboxPolicyModesScenarioAttempts`) are emitted by `demo-e2e`, enforced in demo policy and release-readiness gates, surfaced in release retry telemetry, documented in runbook, and locked by updated unit anti-drift coverage.
119. Revalidated release baseline after retry-gate expansion: `verify:release` is green with `demo:e2e:policy` at `179` checks and unit suite at `303` passing tests, and `progress.md` quality-gate counters are now synchronized to those values.
120. Added WS protocol event-matrix anti-drift coverage (`tests/unit/ws-protocol-event-matrix-alignment.test.ts`): runtime gateway outbound events (`live.*`, `gateway.*`, `session.state`, `task.*`, `orchestrator.response`) and demo frontend outbound events (`sendEnvelope(...)`) must remain documented in `docs/ws-protocol.md`.
121. Completed P0 realtime reliability lane (`T-224/T-225/T-226`) with shipping behavior in runtime/frontend: envelope correlation (`conversation/metadata` + `gateway.error.details.clientEventId`), interruption truncation pipeline (`conversation.item.truncate` + `live.turn.truncated`), and push-to-talk controls (`live.input.clear`/`live.input.commit`).
122. Gateway now supports out-of-band orchestration lane (`conversation=none`) without default task/session-state mutation: requests are forwarded as side-lane operations, responses are tagged with `conversation=none`, `metadata.oob=true`, and `metadata.parentEventId`.
123. Demo frontend now exposes explicit OOB dispatch path (`Send OOB Request`) and marks returned side-lane outputs as `[OOB:<topic>] ...`, while preserving negotiation/task UX only for default conversation lane.
124. Orchestrator idempotency key/fingerprint now include conversation scope (`default|none`) to avoid cross-lane replay collisions; anti-drift tests added for gateway OOB lane and orchestrator conversation-scoped idempotency.
125. Revalidated post-OOB baseline: `verify:release` green, `demo:e2e:policy` `179` checks green, `perf-load` policy green, and unit suite at `303` passing tests.
126. Added realtime function-calling baseline in `LiveApiBridge`: upstream function call frames are normalized and emitted as `live.function_call` with call-correlation payload (`callId/name/argumentsJson/turnId`), and duplicate frames within one turn are deduplicated.
127. Added client-to-upstream function output bridge (`live.function_call_output` -> Gemini `functionResponse` frame) with outbound diagnostic event `live.function_call_output.sent` (payload size + call correlation).
128. Demo frontend now auto-handles `live.function_call` events by returning `live.function_call_output` and logs bridge confirmation, enabling end-to-end local validation of realtime function-call loop without manual frame crafting.
129. WS protocol and specs updated for function-calling event contracts (`live.function_call`, `live.function_call_output`, `live.function_call_output.sent`), with anti-drift coverage in `tests/unit/live-bridge.test.ts` and `tests/unit/ws-protocol-event-matrix-alignment.test.ts`.
130. Revalidated post-function-calling baseline: `verify:release` green with `Demo KPI Gate` pass (`179` checks, `37ms ws`) and perf policy pass (`15` checks, `0` violations).
131. Extended T-228 from bridge baseline to runtime auto-dispatch in gateway: when `LIVE_FUNCTION_AUTO_INVOKE=true`, `live.function_call` is mapped to orchestrator intents (allowlist + intent resolution), and guardrails enforce argument-size bounds plus default `ui_task` sandbox/approval policy (`sandboxPolicyMode`, `approvalConfirmed=false`, `sessionRole=secondary`).
132. Added realtime function-call audit lifecycle and correlation path: gateway emits `live.function_call.dispatching/completed/failed`, decorates function-call events with `metadata.autoDispatch=gateway_auto_invoke`, sends side-lane orchestrator requests (`conversation=none`) and relays outputs back through `live.function_call_output`.
133. Synced docs/frontend/tests for auto-dispatch mode: `docs/ws-protocol.md` documents new events and metadata semantics, frontend avoids duplicate function output when gateway auto-dispatch is active, and new anti-drift coverage (`tests/unit/gateway-live-function-auto-invoke-alignment.test.ts`) locks the contract.
134. Finalized T-228 validation after docs/spec sync: `npm run test:unit` is green (`303` tests), `npm run verify:release` is green with `Demo KPI Gate` pass (`179` checks, `37ms ws`) and perf policy pass (`15` checks, `0` violations).
135. Added realtime still-image lane (`T-229`): gateway bridge now accepts `live.image` payloads (base64 or data URL), normalizes and forwards as Gemini `realtimeInput.mediaChunks` with image MIME, demo frontend can send image frames from file input, protocol/spec docs include `live.image`, and unit coverage added in `tests/unit/live-bridge.test.ts`.
136. Added granular realtime output lane (`T-230`): bridge now emits `live.output.audio.delta` and `live.output.transcript.delta` per turn (while preserving compatibility `live.output` envelopes), frontend consumes granular events without duplicate rendering, and ws-protocol/spec/task docs plus unit coverage were synced.
137. Added structured conversation item lane (`T-231`): gateway bridge now accepts `conversation.item.create` with OpenAI-style multimodal parts (`input_text`, `input_image`, `input_audio`), maps them into Gemini `clientContent.turns[*].parts`, routes event type through realtime gateway live-path, demo frontend includes explicit `Send Conversation Item` action, and protocol/spec/task docs plus unit coverage were synchronized.
138. Revalidated release baseline after `T-231`: `npm run test:unit` green (`307` tests), `npm run verify:release` green, Demo KPI gate green (`179` checks, websocket roundtrip `35ms`), and perf policy green (`15` checks, `0` violations).
139. Added setup patch lane (`T-232`): gateway now supports `LIVE_SETUP_PATCH_JSON` and merges this JSON object into Gemini setup payload (including tools/toolConfig/generationConfig overrides) while preserving base setup defaults; runtime `live.setup` overrides remain highest-precedence.
140. Extended setup diagnostics and coverage for `T-232`: `live.bridge.setup_sent` now exposes `hasSetupPatch` and `toolsCount`, docs/env/spec/task references were synced (`docs/ws-protocol.md`, `README.md`, `.env.example`, `.kiro/specs/*`), and unit coverage was added in `tests/unit/live-bridge.test.ts`.
141. Revalidated release baseline after `T-232`: `npm run test:unit` green (`308` tests), `npm run verify:release` green, Demo KPI gate green (`179` checks, websocket roundtrip `36ms`), and perf policy green (`15` checks, `0` violations).
142. Completed `T-233` for multimodal conversation-item UX: demo frontend now supports optional audio attachment in `conversation.item.create` (`input_audio` part with base64 + `mimeType`), and protocol documentation was updated with explicit audio-part contract guidance.
143. Added unit coverage for `conversation.item.create` audio mapping (`tests/unit/live-bridge.test.ts`) to verify bridge normalization into Gemini `inlineData` for `input_audio`.
144. Revalidated release baseline after `T-233`: `npm run test:unit` green (`309` tests), `npm run verify:release` green, Demo KPI gate green (`179` checks, websocket roundtrip `36ms`), and perf policy green (`15` checks, `0` violations).
145. Completed `T-234` for runtime setup controls in demo frontend: `Live Controls` now supports explicit `live.setup` overrides for `model`, `voice`, `activityHandling`, and `systemInstruction`, sent through existing WebSocket envelope flow.
146. Synced protocol/docs and anti-drift coverage for `T-234`: `docs/ws-protocol.md` now documents practical `live.setup` override fields, `README.md` includes operator usage note, and new alignment guard `tests/unit/frontend-live-setup-alignment.test.ts` locks HTML/runtime wiring.
147. Revalidated release baseline after `T-234`: `npm run test:unit` green (`310` tests), `npm run verify:release` green, Demo KPI gate green (`179` checks, websocket roundtrip `40ms`), and perf policy green (`15` checks, `0` violations).
148. Completed `T-235` for UI grounding input controls in demo frontend: `Intent Request` now supports optional `ui_task` override fields (`url`, `deviceNodeId`, `screenshotRef`, `domSnapshot`, `accessibilityTree`, `markHints`) and serializes them into `orchestrator.request` payload.
149. Added anti-drift coverage for `T-235`: `tests/unit/frontend-ui-grounding-controls-alignment.test.ts` verifies both HTML controls and runtime wiring tokens (`parseMarkHintsInput`, `collectUiTaskOverrides`, payload projection fields).
150. Revalidated release baseline after `T-235`: `npm run test:unit` green (`311` tests), `npm run verify:release` green, Demo KPI gate green (`179` checks, websocket roundtrip `40ms`), and perf policy green (`15` checks, `0` violations).
151. Finalized parallel hardening lane status: `tasks.md` now marks `T-219/T-220/T-221/T-222` as completed, and protocol contract now explicitly documents `ui_task` grounding signals in `orchestrator.request` (`url/deviceNodeId/screenshotRef/domSnapshot/accessibilityTree/markHints`).
152. Added protocol anti-drift guard for UI grounding contract: `tests/unit/ws-protocol-ui-grounding-note.test.ts` now enforces `docs/ws-protocol.md` contains `intent=ui_task` grounding fields (`url/deviceNodeId/screenshotRef/domSnapshot/accessibilityTree/markHints`) in the `orchestrator.request` section.
153. Revalidated release baseline after protocol hardening update: `npm run test:unit` green (`312` tests), `npm run verify:release` green, Demo KPI gate green (`179` checks, websocket roundtrip `40ms`), and perf policy green (`15` checks, `0` violations).
154. Completed `T-236` for frontend gateway-error correlation context: demo frontend now retains bounded pending client-event metadata, resolves `gateway.error.details.clientEventId` against that buffer, and surfaces `clientEventType/conversation/latencyMs` in error diagnostics.
155. Added anti-drift coverage for `T-236`: `tests/unit/frontend-gateway-error-correlation-context.test.ts` enforces pending-event TTL pruning, correlation context resolver wiring, and socket close/error cleanup hooks.
156. Revalidated release baseline after `T-236`: `npm run test:unit` green (`313` tests), `npm run verify:release` green, Demo KPI gate green (`179` checks, websocket roundtrip `108ms`), and perf policy green (`15` checks, `0` violations).
157. Completed `T-237` for operator diagnostics UX: demo frontend Operator Console now exposes a dedicated `Gateway Error Correlation` widget (`source/code/traceId/clientEventId/clientEventType/conversation/latency/seenAt`) and updates it from both `gateway.error` and `orchestrator.error` flows.
158. Added anti-drift coverage for `T-237`: `tests/unit/frontend-operator-gateway-error-widget-alignment.test.ts` enforces HTML/runtime wiring for the new widget, and `tests/unit/gateway-error-correlation-alignment.test.ts` now locks ws-protocol guidance for operator-side correlation tuple persistence.
159. Revalidated release baseline after `T-237`: `npm run test:unit` green (`314` tests), `npm run verify:release` green, Demo KPI gate green (`179` checks, websocket roundtrip `36ms`), and perf policy green (`15` checks, `0` violations).
160. Added end-to-end gateway error-correlation proof in `gateway.websocket.binding_mismatch`: the WS check now validates `payload.details.clientEventId` echo against sent envelope `id`, preserves `conversation=none`, and reports measured correlation latency for policy/release evidence.
161. Extended demo/release gates for operator correlation tuple: `scripts/demo-e2e.ps1`, `scripts/demo-e2e-policy-check.mjs`, and `scripts/release-readiness.ps1` now enforce `gatewayErrorCorrelation*` KPIs (`source/code/traceId/clientEventId/clientEventType/conversation/latency/validated`) as hard quality signals.
162. Synced unit coverage and runbook evidence for the new gate (`tests/unit/demo-e2e-policy-check.test.ts`, `tests/unit/release-readiness.test.ts`, `docs/challenge-demo-runbook.md`); full `npm run test:unit` remains green (`317` tests).
163. Revalidated strict release gate on `main`: `npm run verify:release:strict` is green with Demo KPI gate `187` checks (`35ms` websocket roundtrip), gateway error-correlation tuple validated (`code=GATEWAY_SESSION_MISMATCH`, `conversation=none`), and perf policy green (`15` checks, `0` violations).
164. Added Railway deploy automation path: new script `scripts/railway-deploy.ps1` + npm alias `deploy:railway` now support pre-deploy release verification, project/service link, detached deploy trigger, and terminal status wait (`deployment list` polling). README/runbook usage docs and anti-drift coverage `tests/unit/railway-deploy-alignment.test.ts` were added; full `npm run test:unit` remains green (`318` tests).
165. Hardened Railway deploy script argument handling and service-resolution fallback: replaced PowerShell auto-variable collision (`$Args`) with explicit `$CliArgs`, added status JSON service lookup across `services.edges` + `environments[*].serviceInstances`, and guarded against accidental Railway global-help output; revalidated with real deploy trigger and `npm run test:unit` green (`318` tests).
166. Extended Git publish pipeline with optional Railway rollout: `scripts/github-repo-publish.ps1` now supports `-DeployRailway` plus Railway target/link/wait flags and triggers `scripts/railway-deploy.ps1 -SkipReleaseVerification` after publish; README/runbook usage examples and unit alignment coverage (`tests/unit/repo-publish-release-gate-alignment.test.ts`) were updated.
167. Hardened `repo:publish` git argument handling by replacing PowerShell auto-variable collision (`Run-Git([string[]]$Args)`) with explicit `Run-Git([string[]]$CliArgs)` and added anti-drift assertion for this guard. Revalidated end-to-end publish+deploy path in safe mode (`-SkipCommit -SkipPush -SkipPages -SkipBadgeCheck -SkipReleaseVerification -DeployRailway -RailwayNoWait -RailwaySkipLink`) and confirmed successful Railway deployment (`0097f16b-1f2c-46a1-a217-b35f047df6fc`).
168. Revalidated full release gate after `repo:publish`/Railway automation updates: `npm run verify:release` is green end-to-end with Demo KPI gate `187` checks (`54ms` websocket roundtrip), gateway error-correlation tuple validated, and perf policy green (`15` checks, `0` violations).
169. Hardened remote URL matching in `repo:publish`: added `Normalize-GitHubRemote` equivalence logic so SSH/HTTPS variants of the same GitHub repo do not fail remote validation; updated alignment coverage in `tests/unit/repo-publish-release-gate-alignment.test.ts` and docs note in `README.md`.
170. Revalidated `repo:publish` with default SSH target against existing HTTPS `origin`: publish flow now recognizes equivalent GitHub remote URLs and continues without `-UseHttps`/`-ForceRemoteUpdate`, successfully triggering Railway deploy in smoke mode (`0f9da5be-24fa-4e10-a29f-65285d17d452`).
171. Extended realtime conversation-item lifecycle lane with `conversation.item.delete`: gateway now routes delete events through live bridge (`isLiveBridgeEventType`), bridge emits session-local diagnostics (`live.turn.deleted`), demo frontend exposes `Delete Active Turn` control, ws-protocol docs include the new event contract, and release revalidation remains green (`test:unit` 319, `verify:release` pass with Demo KPI gate `187` checks and websocket roundtrip `40ms`).
172. Reduced local UX noise for managed-service startup scripts: `Start-ManagedService` now launches Node processes with hidden windows (`-WindowStyle Hidden`) in both `scripts/demo-e2e.ps1` and `scripts/perf-load.ps1`, preventing repeated visible terminal pop-ups during demo/perf automation.
173. Promoted `conversation.item.delete` from runtime-only behavior to release-critical evidence: added dedicated WS scenario (`gateway.websocket.item_delete`) and KPI gates (`gatewayItemDeleteValidated`, `gatewayItemDeleteScenarioAttempts`) across demo e2e/policy/release scripts, updated runbook evidence and anti-drift tests, and revalidated unit suite (`323` tests green).
174. Promoted `conversation.item.truncate` to release-critical evidence: added dedicated WS scenario (`gateway.websocket.item_truncate`) and KPI gates (`gatewayItemTruncateValidated`, `gatewayItemTruncateScenarioAttempts`) across demo e2e/policy/release scripts, added session-local unavailable-path unit coverage in live bridge, synced runbook/required-scenario anti-drift tests, and revalidated full baseline (`test:unit` 329, `verify:release` pass with Demo KPI gate `193` checks).
175. Hardened local GitHub dispatch/revalidation helpers for Windows environments where `gh` is installed but not present in `PATH`: `scripts/railway-deploy-all-dispatch.ps1`, `scripts/release-strict-dispatch.ps1`, and `scripts/release-artifact-revalidate.ps1` now resolve `gh.exe` via default install paths (`%ProgramFiles%\\GitHub CLI\\gh.exe`, `%LOCALAPPDATA%\\Programs\\GitHub CLI\\gh.exe`) before failing; anti-drift coverage was updated in `tests/unit/railway-deploy-all-dispatch-alignment.test.ts`, `tests/unit/release-strict-dispatch-alignment.test.ts`, and `tests/unit/release-artifact-local-revalidation-alignment.test.ts`.

## Current Focus Queue

1. Keep demo/release reliability deterministic under transient runtime failures.
2. Continue operational polish for judge-facing evidence and runbook clarity.
3. Proceed to next roadmap slice only after preserving green release gates.
